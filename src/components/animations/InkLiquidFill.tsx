'use client';

import React from 'react';
import { motion } from 'framer-motion';

interface InkLiquidFillProps {
  width?: number;
  height?: number;
  className?: string;
  duration?: number;
  delay?: number;
}

export const InkLiquidFill: React.FC<InkLiquidFillProps> = ({
  width = 200,
  height = 150,
  className = "text-white",
  duration = 2,
  delay = 0
}) => {
  return (
    <motion.div className="relative">
      {/* Logo avec animation de remplissage liquide */}
      <motion.svg
        width={width}
        height={height}
        viewBox="0 0 237.8 168.72"
        className={`absolute inset-0 ${className}`}
      >
        <defs>
          {/* Définition du masque pour le remplissage */}
          <mask id="logoMask">
            <rect width="100%" height="100%" fill="black" />
            <g fill="white">
              {/* i - dot */}
              <rect x="0" y="28.61" width="33.95" height="33.95" rx="16.98" ry="16.98" />
              {/* i - stem */}
              <rect x="3.26" y="71.72" width="27.44" height="97" rx="13.72" ry="13.72" />
              {/* i - full height */}
              <rect x="43.26" y="28.61" width="27.44" height="140.11" rx="13.72" ry="13.72" />
              {/* n - left curve */}
              <path d="M100.4,168.72h0c-8.74,0-15.21-8.19-13.12-16.67,2.97-12.06,8.49-24.43,13.88-36.51,15.43-34.59,18.28-47.3,4.77-54.37-11.71-6.13-22.12,1.08-34.16,13.79-1.86,1.96-3.2,3.38-4.74,4.55l-16.35-21.49c-.12.09-.27.21-.43.35.31-.28,1.2-1.22,1.92-1.98,8.43-8.9,34.09-36,66.28-19.14,11.96,6.26,25.63,18.95,22.78,43.83-1.67,14.63-8.66,30.3-15.42,45.45-4.9,10.98-9.91,22.23-12.31,31.9-1.5,6.04-6.88,10.29-13.1,10.29Z" />
              {/* n - right curve */}
              <path d="M142.44,168.66c-8.42-.04-14.87-7.7-13.27-15.97,2.4-12.38,7.43-23.33,12.34-34.02,3.12-6.79,6.34-13.8,8.8-21.06,9.36-27.64-.88-49.32-13.59-60.38-9.41-8.2-23.41-15.4-38.6-13.61-6.26.74-11.72-4.27-11.72-10.58h0c0-4.5,2.82-8.57,7.08-10.03,20.17-6.89,42.91-1.88,60.97,13.85,19.3,16.81,35.06,49.12,21.43,89.4-2.91,8.59-6.43,16.26-9.84,23.68-4.42,9.63-8.42,18.59-10.25,27.75-1.28,6.38-6.85,10.99-13.36,10.96h0Z" />
              {/* k - upper branch */}
              <path d="M176.16,88.56c-2.48,0-4.46-.14-5.79-.28l2.73-26.86c2.69.27,16.67,1.13,27.38-8.9,7.04-6.59,9.51-14.98,10.21-21.79.71-6.98,6.5-12.33,13.52-12.33h0c7.68,0,13.91,6.36,13.57,14.03-.47,10.79-4.21,26.1-18.85,39.81-15.02,14.06-32.85,16.33-42.78,16.33Z" />
              {/* k - lower branch */}
              <path d="M200.48,168.63c-7.76-.05-13.86-6.62-13.39-14.37.37-6.09.93-11.87,1.46-17.25,2.95-30.11,4.17-42.58-24.43-51l7.62-25.9c22.27,6.56,35.93,17.64,41.78,33.88,5,13.91,3.49,29.32,1.9,45.65-.51,5.23-1.03,10.72-1.37,16.31-.43,7.16-6.4,12.72-13.57,12.67h0Z" />
            </g>
          </mask>

          {/* Gradient radial pour l'effet de bulle */}
          <radialGradient id="liquidGradient" cx="50%" cy="50%" r="50%">
            <stop offset="0%" stopColor="rgba(255,255,255,1)" />
            <stop offset="70%" stopColor="rgba(255,255,255,0.8)" />
            <stop offset="100%" stopColor="rgba(255,255,255,0.4)" />
          </radialGradient>
        </defs>

        {/* Contours vides du logo */}
        <g stroke="rgba(255,255,255,0.3)" strokeWidth="1" fill="none">
          <rect x="0" y="28.61" width="33.95" height="33.95" rx="16.98" ry="16.98" />
          <rect x="3.26" y="71.72" width="27.44" height="97" rx="13.72" ry="13.72" />
          <rect x="43.26" y="28.61" width="27.44" height="140.11" rx="13.72" ry="13.72" />
          <path d="M100.4,168.72h0c-8.74,0-15.21-8.19-13.12-16.67,2.97-12.06,8.49-24.43,13.88-36.51,15.43-34.59,18.28-47.3,4.77-54.37-11.71-6.13-22.12,1.08-34.16,13.79-1.86,1.96-3.2,3.38-4.74,4.55l-16.35-21.49c-.12.09-.27.21-.43.35.31-.28,1.2-1.22,1.92-1.98,8.43-8.9,34.09-36,66.28-19.14,11.96,6.26,25.63,18.95,22.78,43.83-1.67,14.63-8.66,30.3-15.42,45.45-4.9,10.98-9.91,22.23-12.31,31.9-1.5,6.04-6.88,10.29-13.1,10.29Z" />
          <path d="M142.44,168.66c-8.42-.04-14.87-7.7-13.27-15.97,2.4-12.38,7.43-23.33,12.34-34.02,3.12-6.79,6.34-13.8,8.8-21.06,9.36-27.64-.88-49.32-13.59-60.38-9.41-8.2-23.41-15.4-38.6-13.61-6.26.74-11.72-4.27-11.72-10.58h0c0-4.5,2.82-8.57,7.08-10.03,20.17-6.89,42.91-1.88,60.97,13.85,19.3,16.81,35.06,49.12,21.43,89.4-2.91,8.59-6.43,16.26-9.84,23.68-4.42,9.63-8.42,18.59-10.25,27.75-1.28,6.38-6.85,10.99-13.36,10.96h0Z" />
          <path d="M176.16,88.56c-2.48,0-4.46-.14-5.79-.28l2.73-26.86c2.69.27,16.67,1.13,27.38-8.9,7.04-6.59,9.51-14.98,10.21-21.79.71-6.98,6.5-12.33,13.52-12.33h0c7.68,0,13.91,6.36,13.57,14.03-.47,10.79-4.21,26.1-18.85,39.81-15.02,14.06-32.85,16.33-42.78,16.33Z" />
          <path d="M200.48,168.63c-7.76-.05-13.86-6.62-13.39-14.37.37-6.09.93-11.87,1.46-17.25,2.95-30.11,4.17-42.58-24.43-51l7.62-25.9c22.27,6.56,35.93,17.64,41.78,33.88,5,13.91,3.49,29.32,1.9,45.65-.51,5.23-1.03,10.72-1.37,16.31-.43,7.16-6.4,12.72-13.57,12.67h0Z" />
        </g>

        {/* Bulle de remplissage animée */}
        <motion.circle
          cx="16.5" // Centre bas de la barre i
          cy="160"  // Bas de la barre i
          fill="url(#liquidGradient)"
          mask="url(#logoMask)"
          initial={{ 
            r: 0,
            opacity: 0 
          }}
          animate={{ 
            r: [0, 15, 80, 160, 250],
            opacity: [0, 0.9, 1, 1, 0.9]
          }}
          transition={{
            duration: duration,
            delay: delay,
            ease: [0.25, 0.46, 0.45, 0.94],
            times: [0, 0.15, 0.4, 0.7, 1]
          }}
        />

        {/* Effet de vague secondaire */}
        <motion.circle
          cx="16.5"
          cy="160"
          fill="rgba(255,255,255,0.5)"
          mask="url(#logoMask)"
          initial={{ 
            r: 0,
            opacity: 0 
          }}
          animate={{ 
            r: [0, 12, 70, 140, 220],
            opacity: [0, 0.7, 0.8, 0.6, 0.4]
          }}
          transition={{
            duration: duration,
            delay: delay + 0.1,
            ease: [0.25, 0.46, 0.45, 0.94],
            times: [0, 0.15, 0.4, 0.7, 1]
          }}
        />
      </motion.svg>

      {/* Logo final rempli qui apparaît */}
      <motion.div
        initial={{ opacity: 0 }}
        animate={{ opacity: 1 }}
        transition={{ 
          duration: 0.4, 
          delay: delay + duration * 0.9
        }}
      >
        {/* Logo complet */}
        <svg
          width={width}
          height={height}
          viewBox="0 0 237.8 168.72"
          className={className}
        >
          <g className="fill-current">
            {/* i - dot */}
            <rect x="0" y="28.61" width="33.95" height="33.95" rx="16.98" ry="16.98" />
            {/* i - stem */}
            <rect x="3.26" y="71.72" width="27.44" height="97" rx="13.72" ry="13.72" />
            {/* i - full height */}
            <rect x="43.26" y="28.61" width="27.44" height="140.11" rx="13.72" ry="13.72" />
            {/* n - left curve */}
            <path d="M100.4,168.72h0c-8.74,0-15.21-8.19-13.12-16.67,2.97-12.06,8.49-24.43,13.88-36.51,15.43-34.59,18.28-47.3,4.77-54.37-11.71-6.13-22.12,1.08-34.16,13.79-1.86,1.96-3.2,3.38-4.74,4.55l-16.35-21.49c-.12.09-.27.21-.43.35.31-.28,1.2-1.22,1.92-1.98,8.43-8.9,34.09-36,66.28-19.14,11.96,6.26,25.63,18.95,22.78,43.83-1.67,14.63-8.66,30.3-15.42,45.45-4.9,10.98-9.91,22.23-12.31,31.9-1.5,6.04-6.88,10.29-13.1,10.29Z" />
            {/* n - right curve */}
            <path d="M142.44,168.66c-8.42-.04-14.87-7.7-13.27-15.97,2.4-12.38,7.43-23.33,12.34-34.02,3.12-6.79,6.34-13.8,8.8-21.06,9.36-27.64-.88-49.32-13.59-60.38-9.41-8.2-23.41-15.4-38.6-13.61-6.26.74-11.72-4.27-11.72-10.58h0c0-4.5,2.82-8.57,7.08-10.03,20.17-6.89,42.91-1.88,60.97,13.85,19.3,16.81,35.06,49.12,21.43,89.4-2.91,8.59-6.43,16.26-9.84,23.68-4.42,9.63-8.42,18.59-10.25,27.75-1.28,6.38-6.85,10.99-13.36,10.96h0Z" />
            {/* k - upper branch */}
            <path d="M176.16,88.56c-2.48,0-4.46-.14-5.79-.28l2.73-26.86c2.69.27,16.67,1.13,27.38-8.9,7.04-6.59,9.51-14.98,10.21-21.79.71-6.98,6.5-12.33,13.52-12.33h0c7.68,0,13.91,6.36,13.57,14.03-.47,10.79-4.21,26.1-18.85,39.81-15.02,14.06-32.85,16.33-42.78,16.33Z" />
            {/* k - lower branch */}
            <path d="M200.48,168.63c-7.76-.05-13.86-6.62-13.39-14.37.37-6.09.93-11.87,1.46-17.25,2.95-30.11,4.17-42.58-24.43-51l7.62-25.9c22.27,6.56,35.93,17.64,41.78,33.88,5,13.91,3.49,29.32,1.9,45.65-.51,5.23-1.03,10.72-1.37,16.31-.43,7.16-6.4,12.72-13.57,12.67h0Z" />
          </g>
        </svg>
      </motion.div>
    </motion.div>
  );
};

export default InkLiquidFill;